(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854,7148],{4120:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(7876),i=n(4232),s=n(8753),r=n(4614);function o(){var e,t,n,o,d,c;let[l,u]=(0,i.useState)(null),[p,f]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(0,r.JB)().then(u).catch(()=>f("Failed to fetch zodiac numbers"))},[]),(0,a.jsx)(s.A,{children:(0,a.jsxs)("div",{className:"relative z-10 mx-auto max-w-2xl p-6 text-center",children:[(0,a.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:"Your Cosmic Numbers"}),p&&(0,a.jsx)("p",{className:"text-red-300",children:p}),!l&&!p&&(0,a.jsx)("p",{children:"Loading..."}),l&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold",children:["Western: ",l.western.sign," (",l.western.number,")"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(e=l.western.info)?void 0:e.element," — Traits: ",null==(t=l.western.info)?void 0:t.traits]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold",children:["Chinese: ",l.chinese.sign," (",l.chinese.number,")"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(n=l.chinese.info)?void 0:n.element," — Traits: ",null==(o=l.chinese.info)?void 0:o.traits]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold",children:["Vedic: ",l.vedic.sign," (",l.vedic.number,")"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(d=l.vedic.info)?void 0:d.element," — Traits: ",null==(c=l.vedic.info)?void 0:c.traits]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Generated at: ",new Date(l.generated_at).toLocaleString()]})]})]})})}},4510:(e,t,n)=>{"use strict";n.d(t,{ND:()=>a});let a=(0,n(6958).UU)("https://dummy.supabase.co","dummy_key")},4614:(e,t,n)=>{"use strict";n.d(t,{FH:()=>r,aS:()=>u,d$:()=>l,JB:()=>d,U4:()=>f,pG:()=>h,iD:()=>o,jc:()=>p,tt:()=>c});var a=n(1040);function i(e){let t={...e};if("string"==typeof t.user_id){let e=parseInt(t.user_id,10);Number.isNaN(e)||(t.user_id=e)}return t}let s="https://star-backend.azurewebsites.net".replace(/\/$/,""),r=a.A.create({baseURL:s});async function o(e){return(await r.post("/api/v1/login",e)).data}async function d(){return(await r.get("/api/v1/zodiac-numbers")).data}async function c(e){return(await r.post("/api/v1/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n={page:e};return void 0!==t&&(n.user_id=t),(await r.get("/api/v1/feed",{params:n})).data}async function u(e){return(await r.post("/api/v1/archetype-oracle/calculate",e)).data}async function p(e,t,n){return"undefined"!=typeof fetch?(await fetch("/api/v1/tarot/share-spread",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spread:e,spread_type:t,user_id:n})})).json():(await r.post("/api/v1/tarot/share-spread",{spread:e,spread_type:t,user_id:n})).data}async function f(e,t){return"undefined"!=typeof fetch?(await fetch("/api/v1/tarot/spotify-playlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({energy_flows:e,spread_type:t})})).json():(await r.post("/api/v1/tarot/spotify-playlist",{energy_flows:e,spread_type:t})).data}async function h(e){return"undefined"!=typeof fetch?(await fetch("/api/v1/tarot/location-insights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip_address:e})})).json():(await r.post("/api/v1/tarot/location-insights",{ip_address:e})).data}r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>{var t;return(null==(t=e.config.url)?void 0:t.includes("/api/v1/feed"))&&(e.data=function(e){return{...e,items:e.items.map(i)}}(e.data)),e})},8753:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(7876),i=n(4232),s=n(986),r=n(4796),o=n(5693),d=n(1824),c=n(4510);function l(e){let{children:t}=e,n=(0,i.useRef)(null),l=(0,i.useRef)([]),u=(0,i.useCallback)(async e=>{await (0,d.G)(e)},[]);return(0,i.useEffect)(()=>{if(!n.current)return;let e=n.current,t=new r.Scene,a=new r.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),i=new r.WebGLRenderer({alpha:!0});i.setSize(window.innerWidth,window.innerHeight),e.appendChild(i.domElement);let s=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],d=s.map(e=>{let n=new r.SphereGeometry(e.size,32,32),a=new r.MeshBasicMaterial({color:e.color}),i=new r.Mesh(n,a);return i.position.set(e.position[0],e.position[1],e.position[2]),t.add(i),i}),u=new r.BufferGeometry,p=new Float32Array(15e3);for(let e=0;e<15e3;e++)p[e]=(Math.random()-.5)*2e3;u.setAttribute("position",new r.BufferAttribute(p,3));let f=new r.PointsMaterial({color:0xffffff,size:2}),h=new r.Points(u,f);t.add(h);let m={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]};m.default;let w=[],v="default",y=!1,x=s.map(()=>new r.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0}));!async function(){w.forEach(e=>t.remove(e)),w.length=0,l.current.forEach(e=>t.remove(e)),l.current=[];let{data:{user:e}}=await c.ND.auth.getUser();if(e){let{data:t}=await c.ND.from("profiles").select("zodiac_sign").eq("user_id",e.id).single();y="Scorpio"===(v=(null==t?void 0:t.zodiac_sign)||"default")}(m[v]||m.default).forEach(e=>{let{start:n,end:a}=e,i=new r.LineBasicMaterial({color:"Scorpio"===v?0xf7dc6f:9133302,linewidth:2}),s=new r.BufferGeometry().setFromPoints([new r.Vector3(...n),new r.Vector3(...a)]),o=new r.Line(s,i);t.add(o),w.push(o)}),y&&(l.current=s.map((e,n)=>{let a=new r.SphereGeometry(1.3*e.size,32,32),i=new r.Mesh(a,x[n]);return t.add(i),i}))}();let b=new o.N(a,i.domElement);b.enableDamping=!0,b.dampingFactor=.05,a.position.z=20;let g=()=>{requestAnimationFrame(g),d.forEach((e,t)=>{let{orbitSpeed:n}=s[t];e.position.x=s[t].position[0]*Math.cos(Date.now()*n*.001),e.position.z=s[t].position[0]*Math.sin(Date.now()*n*.001)}),w.forEach(e=>{e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),l.current.forEach((e,t)=>{e.material.opacity=y?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(d[t].position)}),b.update(),i.render(t,a)};g();let _=()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",_);let N=new r.Raycaster,j=new r.Vector2,z=async e=>{j.x=e.clientX/window.innerWidth*2-1,j.y=-(2*(e.clientY/window.innerHeight))+1,N.setFromCamera(j,a);let t=N.intersectObjects(d);if(t.length>0){let e=t[0].object,n=s[d.indexOf(e)].name,{data:{user:a}}=await c.ND.auth.getUser();a&&await c.ND.from("analytics_events").insert({user_id:a.id,event_type:"constellation_reveal",event_data:{planet:n,zodiac:v},created_at:new Date().toISOString()})}};return window.addEventListener("click",z),()=>{window.removeEventListener("resize",_),window.removeEventListener("click",z),null==e||e.removeChild(i.domElement)}},[]),(0,a.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,a.jsx)(s.A,{id:"tsparticles",init:u,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,a.jsx)("div",{className:"comet"}),(0,a.jsx)("div",{ref:n,className:"fixed inset-0 -z-10"}),(0,a.jsx)("div",{className:"relative z-10",children:t})]})}},9276:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/zodiac",function(){return n(4120)}])}},e=>{e.O(0,[7391,2909,1040,6958,5748,5693,636,6593,8792],()=>e(e.s=9276)),_N_E=e.O()}]);