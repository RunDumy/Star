(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{2180:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/post",function(){return n(2921)}])},2921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(3857),r=n(3081),l=n.n(r),s=n(2227),o=n(4232),i=n(8296),u=n(8982),c=n(7876);function d(){var e,t=(0,o.useState)(null),n=t[0],r=t[1],d=(0,o.useState)(""),p=d[0],b=d[1],h=(0,o.useState)(null),f=h[0],m=h[1],v=(0,o.useState)(!1),x=v[0],w=v[1],N=(e=(0,a.A)(l().mark(function e(t){var a,o,i,c;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m(null),n){e.next=5;break}return m("Please select a video."),e.abrupt("return");case 5:return e.prev=5,w(!0),(a=new FormData).append("file",n),o=s.A.sanitize(p),a.append("content",o),e.next=13,(0,u.tt)(a);case 13:m((null==(i=e.sent)?void 0:i.message)||"Video posted!"),b(""),r(null),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),m((null===e.t0||void 0===e.t0||null==(c=e.t0.response)||null==(c=c.data)?void 0:c.error)||"Failed to post video");case 22:return e.prev=22,w(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[5,19,22,25]])})),function(t){return e.apply(this,arguments)});return(0,c.jsx)(i.A,{children:(0,c.jsxs)("div",{className:"cosmic-container relative z-10 p-4 text-white",children:[(0,c.jsx)("h1",{className:"mb-4 text-center text-2xl font-bold",children:"Create Cosmic Post"}),(0,c.jsxs)("form",{onSubmit:N,className:"space-y-3",children:[(0,c.jsx)("label",{className:"sr-only",htmlFor:"content",children:"Post content"}),(0,c.jsx)("textarea",{id:"content",className:"w-full rounded border border-gray-600 bg-transparent p-2",placeholder:"What's your zodiac vibe?",value:p,onChange:function(e){return b(e.target.value)},"aria-label":"Post content",rows:4}),(0,c.jsx)("label",{className:"sr-only",htmlFor:"file",children:"Video upload"}),(0,c.jsx)("input",{id:"file",className:"w-full rounded border border-gray-600 bg-transparent p-2",type:"file",accept:"video/*",onChange:function(e){var t;return r((null==(t=e.target.files)?void 0:t[0])||null)},"aria-label":"Video upload"}),(0,c.jsx)("button",{className:"w-full rounded bg-blue-600 p-2 hover:bg-blue-500 disabled:opacity-60",type:"submit",disabled:x,children:x?"Postingâ€¦":"Post Video"})]}),f&&(0,c.jsx)("p",{className:"mt-3 text-center text-sm text-gray-200",children:f})]})})}}},e=>{e.O(0,[7391,1040,424,8166,6464,3287,636,6593,8792],()=>e(e.s=2180)),_N_E=e.O()}]);