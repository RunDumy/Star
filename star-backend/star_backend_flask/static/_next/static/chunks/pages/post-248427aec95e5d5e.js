(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{2180:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/post",function(){return l(3906)}])},3906:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i});var a=l(7876),s=l(2227),n=l(4232),r=l(8753),o=l(4614);function i(){let[e,t]=(0,n.useState)(null),[l,i]=(0,n.useState)(""),[d,u]=(0,n.useState)(null),[c,p]=(0,n.useState)(!1),b=async a=>{if(a.preventDefault(),u(null),!e)return void u("Please select a video.");try{p(!0);let a=new FormData;a.append("file",e);let n=s.A.sanitize(l);a.append("content",n);let r=await (0,o.tt)(a);u((null==r?void 0:r.message)||"Video posted!"),i(""),t(null)}catch(e){var n,r;u((null==e||null==(r=e.response)||null==(n=r.data)?void 0:n.error)||"Failed to post video")}finally{p(!1)}};return(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"cosmic-container relative z-10 p-4 text-white",children:[(0,a.jsx)("h1",{className:"mb-4 text-center text-2xl font-bold",children:"Create Cosmic Post"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-3",children:[(0,a.jsx)("label",{className:"sr-only",htmlFor:"content",children:"Post content"}),(0,a.jsx)("textarea",{id:"content",className:"w-full rounded border border-gray-600 bg-transparent p-2",placeholder:"What's your zodiac vibe?",value:l,onChange:e=>i(e.target.value),"aria-label":"Post content",rows:4}),(0,a.jsx)("label",{className:"sr-only",htmlFor:"file",children:"Video upload"}),(0,a.jsx)("input",{id:"file",className:"w-full rounded border border-gray-600 bg-transparent p-2",type:"file",accept:"video/*",onChange:e=>{var l;return t((null==(l=e.target.files)?void 0:l[0])||null)},"aria-label":"Video upload"}),(0,a.jsx)("button",{className:"w-full rounded bg-blue-600 p-2 hover:bg-blue-500 disabled:opacity-60",type:"submit",disabled:c,children:c?"Postingâ€¦":"Post Video"})]}),d&&(0,a.jsx)("p",{className:"mt-3 text-center text-sm text-gray-200",children:d})]})})}}},e=>{e.O(0,[7391,2909,1040,6958,5748,5693,2227,854,636,6593,8792],()=>e(e.s=2180)),_N_E=e.O()}]);