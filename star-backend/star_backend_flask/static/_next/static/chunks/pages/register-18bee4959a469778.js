(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5787],{2552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(7876),n=r(6848),a=r(4232),o=r(1040),s=r(5784);let l={1:{name:"Magnetic",description:"Initiates with purpose and attraction",color:"#ff4d4d"},2:{name:"Lunar",description:"Embraces polarity and challenge",color:"#4d4dff"},3:{name:"Electric",description:"Activates with dynamic energy",color:"#4dff4d"},4:{name:"Self-Existing",description:"Defines with form and structure",color:"#ffcc4d"},5:{name:"Overtone",description:"Empowers with radiant command",color:"#ff4dcc"},6:{name:"Rhythmic",description:"Balances with equality and rhythm",color:"#4dffff"},7:{name:"Resonant",description:"Attunes with universal harmony",color:"#cc4dff"},8:{name:"Galactic",description:"Aligns with integrity and truth",color:"#4dccff"},9:{name:"Solar",description:"Pulses with intention and realization",color:"#ff994d"},10:{name:"Planetary",description:"Manifests with perfection",color:"#994dff"},11:{name:"Spectral",description:"Liberates with dissolution",color:"#ff4d99"},12:{name:"Crystal",description:"Universalizes with cooperation",color:"#4d99ff"},13:{name:"Cosmic",description:"Transcends with universal connection",color:"#ffffff"}},c=["Crocodile","Wind","House","Lizard","Serpent","Death","Deer","Rabbit","Water","Dog","Monkey","Grass","Reed","Jaguar","Eagle","Vulture","Earthquake","Flint","Rain","Flower"],d=e=>{var t,r,d;let{onProfileCreated:u}=e,[p,m]=(0,a.useState)({userId:"",birthDate:"",zodiacSystem:"Aztec",email:"",username:""}),[f,h]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),[g,w]=(0,a.useState)(""),[v,y]=(0,a.useState)(1),j=async e=>{if(e.preventDefault(),f){b(!0),w("");try{let e=await o.A.post("https://star-app-backend.azurewebsites.net/api/v1/register",{...p,...f});u(e.data.profile),y(3)}catch(e){var t,r;w((null==(r=e.response)||null==(t=r.data)?void 0:t.error)||"Registration failed. Please try again.")}finally{b(!1)}}};return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:(0,i.jsxs)(n.P.div,{className:"bg-black/80 backdrop-blur-sm rounded-3xl p-8 text-white max-w-2xl w-full border border-purple-500/30",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Create Your Cosmic Profile"}),(0,i.jsx)("p",{className:"text-purple-300",children:"Discover your place in the cosmic order"})]}),(0,i.jsxs)(s.N,{mode:"wait",children:[1===v&&(0,i.jsx)(n.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(2)},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Username"}),(0,i.jsx)("input",{type:"text",value:p.username,onChange:e=>m(t=>({...t,username:e.target.value,userId:e.target.value})),className:"w-full p-3 bg-purple-900/50 border border-purple-500/50 rounded-lg focus:border-purple-400 focus:outline-none text-white",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Email"}),(0,i.jsx)("input",{type:"email",value:p.email,onChange:e=>m(t=>({...t,email:e.target.value})),className:"w-full p-3 bg-purple-900/50 border border-purple-500/50 rounded-lg focus:border-purple-400 focus:outline-none text-white",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Birth Date"}),(0,i.jsx)("input",{type:"date",value:p.birthDate,onChange:e=>(e=>{if(m(t=>({...t,birthDate:e})),e){let{tone:t,daySign:r,signature:i}=(e=>{let t=Math.floor(new Date(e).getTime()/864e5)+2440587.5,r=Math.floor(t)%13+1,i=c[Math.floor(t)%20];return{tone:r,daySign:i,signature:"".concat(r,"-").concat(i)}})(e);h({id:p.username,birthDate:e,tone:t,daySign:r,signature:i,zodiacSystem:p.zodiacSystem})}})(e.target.value),className:"w-full p-3 bg-purple-900/50 border border-purple-500/50 rounded-lg focus:border-purple-400 focus:outline-none text-white",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Zodiac System"}),(0,i.jsxs)("select",{value:p.zodiacSystem,onChange:e=>m(t=>({...t,zodiacSystem:e.target.value})),className:"w-full p-3 bg-purple-900/50 border border-purple-500/50 rounded-lg focus:border-purple-400 focus:outline-none text-white",children:[(0,i.jsx)("option",{value:"Aztec",children:"Aztec Tonalpohualli (Sacred Calendar)"}),(0,i.jsx)("option",{value:"Western",children:"Western Zodiac"}),(0,i.jsx)("option",{value:"Chinese",children:"Chinese Zodiac"}),(0,i.jsx)("option",{value:"Vedic",children:"Vedic Astrology"})]})]}),(0,i.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 p-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200",disabled:!p.birthDate||!p.username||!p.email,children:"Calculate Cosmic Signature"})]})},"step1"),2===v&&f&&(0,i.jsxs)(n.P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"text-center",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Your Cosmic Signature"}),(0,i.jsxs)(n.P.div,{className:"mb-8 p-6 bg-gradient-to-br from-purple-800/50 to-pink-800/50 rounded-2xl border border-purple-400/30",animate:(e=>{let t={1:{scale:[1,1.1,1],transition:{repeat:1/0,duration:2}},2:{opacity:[.7,1,.7],transition:{repeat:1/0,duration:2}},3:{rotate:[0,360],transition:{repeat:1/0,duration:3}},7:{y:[0,-10,0],transition:{repeat:1/0,duration:2}},13:{scale:[1,1.2,1],opacity:[.5,1,.5],transition:{repeat:1/0,duration:4}}};return t[e]||t[1]})(f.tone),children:[(0,i.jsx)("div",{className:"text-6xl font-bold mb-4",style:{color:null==(t=l[f.tone])?void 0:t.color},children:f.signature}),(0,i.jsxs)("div",{className:"text-xl mb-2",children:["Galactic Tone ",f.tone,": ",null==(r=l[f.tone])?void 0:r.name]}),(0,i.jsxs)("div",{className:"text-lg text-purple-300 mb-4",children:["Day Sign: ",f.daySign]}),(0,i.jsx)("p",{className:"text-sm text-purple-200",children:null==(d=l[f.tone])?void 0:d.description})]}),(0,i.jsx)("div",{className:"bg-indigo-900/30 p-4 rounded-lg mb-6",children:(0,i.jsx)("p",{className:"text-sm text-indigo-200",children:"This sacred signature connects you to the cosmic rhythms of the Tzolk'in, the 260-day sacred calendar of the Maya and Aztec civilizations."})}),g&&(0,i.jsx)("div",{className:"bg-red-900/50 border border-red-500 p-3 rounded-lg mb-4",children:(0,i.jsx)("p",{className:"text-red-200",children:g})}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{onClick:()=>y(1),className:"flex-1 bg-purple-800 p-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Back"}),(0,i.jsx)("button",{onClick:j,disabled:x,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 p-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50",children:x?"Creating Profile...":"Create Profile"})]})]},"step2"),3===v&&(0,i.jsxs)(n.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF1F"}),(0,i.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to the STAR Platform!"}),(0,i.jsx)("p",{className:"text-purple-300 mb-6",children:"Your cosmic profile has been created. You can now explore tarot readings, connect with other cosmic beings, and discover your galactic destiny."}),(0,i.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Enter the Cosmos"})]},"step3")]}),(0,i.jsx)("div",{className:"mt-8 text-center text-xs text-purple-400",children:(0,i.jsx)("p",{children:"Honoring the sacred wisdom of Mayan and Aztec cosmic traditions"})})]})})};var u=r(8753);function p(){let[e,t]=(0,a.useState)(null);return e?(0,i.jsx)(u.A,{children:(0,i.jsx)(n.P.div,{className:"relative z-10 min-h-screen flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)("div",{className:"text-center text-white",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF1F"}),(0,i.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to STAR!"}),(0,i.jsxs)("p",{className:"text-xl mb-2",children:["Your cosmic signature: ",(0,i.jsx)("span",{className:"text-purple-400 font-bold",children:e.signature})]}),(0,i.jsx)("p",{className:"text-purple-300 mb-8",children:"Profile created successfully!"}),(0,i.jsx)("button",{onClick:()=>window.location.href="/",className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Enter the Cosmos"})]})})}):(0,i.jsx)(u.A,{children:(0,i.jsx)("div",{className:"relative z-10",children:(0,i.jsx)(d,{onProfileCreated:e=>{t(e),setTimeout(()=>{window.location.href="/"},3e3)}})})})}},2790:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(2552)}])},4510:(e,t,r)=>{"use strict";r.d(t,{ND:()=>i});let i=(0,r(6958).UU)("https://dummy.supabase.co","dummy_key")},5784:(e,t,r)=>{"use strict";r.d(t,{N:()=>w});var i=r(7876),n=r(4232),a=r(5048),o=r(1200),s=r(181),l=r(3866),c=r(7990),d=r(9751);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class p extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:t,anchorX:r,root:a}){let o=(0,n.useId)(),s=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(d.Q),m=function(...e){return n.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=u(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(s,e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:i,top:n,left:d,right:u}=l.current;if(t||!s.current||!e||!i)return;let p="left"===r?`left: ${d}`:`right: ${u}`;s.current.dataset.motionPopId=o;let m=document.createElement("style");c&&(m.nonce=c);let f=a??document.head;return f.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${i}px !important;
            ${p}px !important;
            top: ${n}px !important;
          }
        `),()=>{f.contains(m)&&f.removeChild(m)}},[t]),(0,i.jsx)(p,{isPresent:t,childRef:s,sizeRef:l,children:n.cloneElement(e,{ref:m})})}let f=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let f=(0,o.M)(h),x=(0,n.useId)(),b=!0,g=(0,n.useMemo)(()=>(b=!1,{id:x,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[r,f,a]);return c&&b&&(g={...g}),(0,n.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[r]),n.useEffect(()=>{r||f.size||!a||a()},[r]),"popLayout"===d&&(e=(0,i.jsx)(m,{isPresent:r,anchorX:u,root:p,children:e})),(0,i.jsx)(l.t.Provider,{value:g,children:e})};function h(){return new Map}var x=r(3885);let b=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:p="left",root:m})=>{let[h,w]=(0,x.xQ)(u),v=(0,n.useMemo)(()=>g(e),[e]),y=u&&!h?[]:v.map(b),j=(0,n.useRef)(!0),N=(0,n.useRef)(v),C=(0,o.M)(()=>new Map),[k,S]=(0,n.useState)(v),[z,E]=(0,n.useState)(v);(0,s.E)(()=>{j.current=!1,N.current=v;for(let e=0;e<z.length;e++){let t=b(z[e]);y.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[z,y.length,y.join("-")]);let D=[];if(v!==k){let e=[...v];for(let t=0;t<z.length;t++){let r=z[t],i=b(r);y.includes(i)||(e.splice(t,0,r),D.push(r))}return"wait"===d&&D.length&&(e=D),E(g(e)),S(v),null}let{forceRender:M}=(0,n.useContext)(a.L);return(0,i.jsx)(i.Fragment,{children:z.map(e=>{let n=b(e),a=(!u||!!h)&&(v===z||y.includes(n));return(0,i.jsx)(f,{isPresent:a,initial:(!j.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:m,onExitComplete:a?void 0:()=>{if(!C.has(n))return;C.set(n,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(M?.(),E(N.current),u&&w?.(),l&&l())},anchorX:p,children:e},n)})})}},8753:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var i=r(7876),n=r(4232),a=r(986),o=r(4796),s=r(5693),l=r(1824),c=r(4510);function d(e){let{children:t}=e,r=(0,n.useRef)(null),d=(0,n.useRef)([]),u=(0,n.useCallback)(async e=>{await (0,l.G)(e)},[]);return(0,n.useEffect)(()=>{if(!r.current)return;let e=r.current,t=new o.Scene,i=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),n=new o.WebGLRenderer({alpha:!0});n.setSize(window.innerWidth,window.innerHeight),e.appendChild(n.domElement);let a=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],l=a.map(e=>{let r=new o.SphereGeometry(e.size,32,32),i=new o.MeshBasicMaterial({color:e.color}),n=new o.Mesh(r,i);return n.position.set(e.position[0],e.position[1],e.position[2]),t.add(n),n}),u=new o.BufferGeometry,p=new Float32Array(15e3);for(let e=0;e<15e3;e++)p[e]=(Math.random()-.5)*2e3;u.setAttribute("position",new o.BufferAttribute(p,3));let m=new o.PointsMaterial({color:0xffffff,size:2}),f=new o.Points(u,m);t.add(f);let h={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]};h.default;let x=[],b="default",g=!1,w=a.map(()=>new o.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0}));!async function(){x.forEach(e=>t.remove(e)),x.length=0,d.current.forEach(e=>t.remove(e)),d.current=[];let{data:{user:e}}=await c.ND.auth.getUser();if(e){let{data:t}=await c.ND.from("profiles").select("zodiac_sign").eq("user_id",e.id).single();g="Scorpio"===(b=(null==t?void 0:t.zodiac_sign)||"default")}(h[b]||h.default).forEach(e=>{let{start:r,end:i}=e,n=new o.LineBasicMaterial({color:"Scorpio"===b?0xf7dc6f:9133302,linewidth:2}),a=new o.BufferGeometry().setFromPoints([new o.Vector3(...r),new o.Vector3(...i)]),s=new o.Line(a,n);t.add(s),x.push(s)}),g&&(d.current=a.map((e,r)=>{let i=new o.SphereGeometry(1.3*e.size,32,32),n=new o.Mesh(i,w[r]);return t.add(n),n}))}();let v=new s.N(i,n.domElement);v.enableDamping=!0,v.dampingFactor=.05,i.position.z=20;let y=()=>{requestAnimationFrame(y),l.forEach((e,t)=>{let{orbitSpeed:r}=a[t];e.position.x=a[t].position[0]*Math.cos(Date.now()*r*.001),e.position.z=a[t].position[0]*Math.sin(Date.now()*r*.001)}),x.forEach(e=>{e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),d.current.forEach((e,t)=>{e.material.opacity=g?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(l[t].position)}),v.update(),n.render(t,i)};y();let j=()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",j);let N=new o.Raycaster,C=new o.Vector2,k=async e=>{C.x=e.clientX/window.innerWidth*2-1,C.y=-(2*(e.clientY/window.innerHeight))+1,N.setFromCamera(C,i);let t=N.intersectObjects(l);if(t.length>0){let e=t[0].object,r=a[l.indexOf(e)].name,{data:{user:i}}=await c.ND.auth.getUser();i&&await c.ND.from("analytics_events").insert({user_id:i.id,event_type:"constellation_reveal",event_data:{planet:r,zodiac:b},created_at:new Date().toISOString()})}};return window.addEventListener("click",k),()=>{window.removeEventListener("resize",j),window.removeEventListener("click",k),null==e||e.removeChild(n.domElement)}},[]),(0,i.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,i.jsx)(a.A,{id:"tsparticles",init:u,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,i.jsx)("div",{className:"comet"}),(0,i.jsx)("div",{ref:r,className:"fixed inset-0 -z-10"}),(0,i.jsx)("div",{className:"relative z-10",children:t})]})}}},e=>{e.O(0,[7391,2909,1040,6958,5748,6848,5693,636,6593,8792],()=>e(e.s=2790)),_N_E=e.O()}]);