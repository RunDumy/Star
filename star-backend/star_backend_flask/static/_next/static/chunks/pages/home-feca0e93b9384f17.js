(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{2814:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(4569)}])},4510:(e,t,n)=>{"use strict";n.d(t,{ND:()=>i});let i=(0,n(6958).UU)("https://dummy.supabase.co","dummy_key")},4569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(7876),a=n(8753);function r(){return(0,i.jsx)(a.A,{children:(0,i.jsx)("div",{className:"p-8",children:"Welcome to the 3D Cosmic Interface (placeholder)"})})}},8753:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(7876),a=n(4232),r=n(986),o=n(4796),s=n(5693),d=n(1824),c=n(4510);function l(e){let{children:t}=e,n=(0,a.useRef)(null),l=(0,a.useRef)([]),u=(0,a.useCallback)(async e=>{await (0,d.G)(e)},[]);return(0,a.useEffect)(()=>{if(!n.current)return;let e=n.current,t=new o.Scene,i=new o.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a=new o.WebGLRenderer({alpha:!0});a.setSize(window.innerWidth,window.innerHeight),e.appendChild(a.domElement);let r=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],d=r.map(e=>{let n=new o.SphereGeometry(e.size,32,32),i=new o.MeshBasicMaterial({color:e.color}),a=new o.Mesh(n,i);return a.position.set(e.position[0],e.position[1],e.position[2]),t.add(a),a}),u=new o.BufferGeometry,w=new Float32Array(15e3);for(let e=0;e<15e3;e++)w[e]=(Math.random()-.5)*2e3;u.setAttribute("position",new o.BufferAttribute(w,3));let p=new o.PointsMaterial({color:0xffffff,size:2}),m=new o.Points(u,p);t.add(m);let f={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]};f.default;let h=[],v="default",b=!1,y=r.map(()=>new o.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0}));!async function(){h.forEach(e=>t.remove(e)),h.length=0,l.current.forEach(e=>t.remove(e)),l.current=[];let{data:{user:e}}=await c.ND.auth.getUser();if(e){let{data:t}=await c.ND.from("profiles").select("zodiac_sign").eq("user_id",e.id).single();b="Scorpio"===(v=(null==t?void 0:t.zodiac_sign)||"default")}(f[v]||f.default).forEach(e=>{let{start:n,end:i}=e,a=new o.LineBasicMaterial({color:"Scorpio"===v?0xf7dc6f:9133302,linewidth:2}),r=new o.BufferGeometry().setFromPoints([new o.Vector3(...n),new o.Vector3(...i)]),s=new o.Line(r,a);t.add(s),h.push(s)}),b&&(l.current=r.map((e,n)=>{let i=new o.SphereGeometry(1.3*e.size,32,32),a=new o.Mesh(i,y[n]);return t.add(a),a}))}();let _=new s.N(i,a.domElement);_.enableDamping=!0,_.dampingFactor=.05,i.position.z=20;let g=()=>{requestAnimationFrame(g),d.forEach((e,t)=>{let{orbitSpeed:n}=r[t];e.position.x=r[t].position[0]*Math.cos(Date.now()*n*.001),e.position.z=r[t].position[0]*Math.sin(Date.now()*n*.001)}),h.forEach(e=>{e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),l.current.forEach((e,t)=>{e.material.opacity=b?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(d[t].position)}),_.update(),a.render(t,i)};g();let E=()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",E);let x=new o.Raycaster,z=new o.Vector2,N=async e=>{z.x=e.clientX/window.innerWidth*2-1,z.y=-(2*(e.clientY/window.innerHeight))+1,x.setFromCamera(z,i);let t=x.intersectObjects(d);if(t.length>0){let e=t[0].object,n=r[d.indexOf(e)].name,{data:{user:i}}=await c.ND.auth.getUser();i&&await c.ND.from("analytics_events").insert({user_id:i.id,event_type:"constellation_reveal",event_data:{planet:n,zodiac:v},created_at:new Date().toISOString()})}};return window.addEventListener("click",N),()=>{window.removeEventListener("resize",E),window.removeEventListener("click",N),null==e||e.removeChild(a.domElement)}},[]),(0,i.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,i.jsx)(r.A,{id:"tsparticles",init:u,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,i.jsx)("div",{className:"comet"}),(0,i.jsx)("div",{ref:n,className:"fixed inset-0 -z-10"}),(0,i.jsx)("div",{className:"relative z-10",children:t})]})}}},e=>{e.O(0,[7391,2909,6958,5748,5693,636,6593,8792],()=>e(e.s=2814)),_N_E=e.O()}]);