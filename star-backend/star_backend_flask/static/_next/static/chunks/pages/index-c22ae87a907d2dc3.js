(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332],{6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9701)}])},8753:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(7876),r=a(4232),i=a(986),n=a(4796),l=a(5693),o=a(1824),c=a(4510);function d(e){let{children:t}=e,a=(0,r.useRef)(null),d=(0,r.useRef)([]),m=(0,r.useCallback)(async e=>{await (0,o.G)(e)},[]);return(0,r.useEffect)(()=>{if(!a.current)return;let e=a.current,t=new n.Scene,s=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),r=new n.WebGLRenderer({alpha:!0});r.setSize(window.innerWidth,window.innerHeight),e.appendChild(r.domElement);let i=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],o=i.map(e=>{let a=new n.SphereGeometry(e.size,32,32),s=new n.MeshBasicMaterial({color:e.color}),r=new n.Mesh(a,s);return r.position.set(e.position[0],e.position[1],e.position[2]),t.add(r),r}),m=new n.BufferGeometry,u=new Float32Array(15e3);for(let e=0;e<15e3;e++)u[e]=(Math.random()-.5)*2e3;m.setAttribute("position",new n.BufferAttribute(u,3));let p=new n.PointsMaterial({color:0xffffff,size:2}),h=new n.Points(m,p);t.add(h);let x={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]};x.default;let g=[],f="default",y=!1,j=i.map(()=>new n.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0}));!async function(){g.forEach(e=>t.remove(e)),g.length=0,d.current.forEach(e=>t.remove(e)),d.current=[];let{data:{user:e}}=await c.ND.auth.getUser();if(e){let{data:t}=await c.ND.from("profiles").select("zodiac_sign").eq("user_id",e.id).single();y="Scorpio"===(f=(null==t?void 0:t.zodiac_sign)||"default")}(x[f]||x.default).forEach(e=>{let{start:a,end:s}=e,r=new n.LineBasicMaterial({color:"Scorpio"===f?0xf7dc6f:9133302,linewidth:2}),i=new n.BufferGeometry().setFromPoints([new n.Vector3(...a),new n.Vector3(...s)]),l=new n.Line(i,r);t.add(l),g.push(l)}),y&&(d.current=i.map((e,a)=>{let s=new n.SphereGeometry(1.3*e.size,32,32),r=new n.Mesh(s,j[a]);return t.add(r),r}))}();let w=new l.N(s,r.domElement);w.enableDamping=!0,w.dampingFactor=.05,s.position.z=20;let v=()=>{requestAnimationFrame(v),o.forEach((e,t)=>{let{orbitSpeed:a}=i[t];e.position.x=i[t].position[0]*Math.cos(Date.now()*a*.001),e.position.z=i[t].position[0]*Math.sin(Date.now()*a*.001)}),g.forEach(e=>{e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),d.current.forEach((e,t)=>{e.material.opacity=y?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(o[t].position)}),w.update(),r.render(t,s)};v();let b=()=>{s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",b);let N=new n.Raycaster,_=new n.Vector2,S=async e=>{_.x=e.clientX/window.innerWidth*2-1,_.y=-(2*(e.clientY/window.innerHeight))+1,N.setFromCamera(_,s);let t=N.intersectObjects(o);if(t.length>0){let e=t[0].object,a=i[o.indexOf(e)].name,{data:{user:s}}=await c.ND.auth.getUser();s&&await c.ND.from("analytics_events").insert({user_id:s.id,event_type:"constellation_reveal",event_data:{planet:a,zodiac:f},created_at:new Date().toISOString()})}};return window.addEventListener("click",S),()=>{window.removeEventListener("resize",b),window.removeEventListener("click",S),null==e||e.removeChild(r.domElement)}},[]),(0,s.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,s.jsx)(i.A,{id:"tsparticles",init:m,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,s.jsx)("div",{className:"comet"}),(0,s.jsx)("div",{ref:a,className:"fixed inset-0 -z-10"}),(0,s.jsx)("div",{className:"relative z-10",children:t})]})}},9286:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(7876),r=a(1755);let i=()=>{let e=(0,r.zh)({from:{rotate:0},to:{rotate:360},loop:!0,config:{duration:2e3}});return(0,s.jsxs)("output",{className:"flex items-center justify-center p-4","aria-label":"Loading cosmic data",children:[(0,s.jsxs)(r.CS.div,{style:{transform:e.rotate.to(e=>"rotate(".concat(e,"deg)"))},className:"relative w-16 h-16",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-yellow-400/20 to-transparent"}),(0,s.jsx)("div",{className:"absolute w-4 h-4 rounded-full bg-yellow-400 shadow-lg shadow-yellow-400/50 top-0 left-6"}),(0,s.jsx)("div",{className:"absolute w-3 h-3 rounded-full bg-yellow-300 shadow-md shadow-yellow-300/50 bottom-2 right-4"}),(0,s.jsx)("div",{className:"absolute w-2 h-2 rounded-full bg-yellow-200 shadow-sm shadow-yellow-200/50 top-4 right-2"})]}),(0,s.jsx)("span",{children:"Generating cosmic insights"})]})}},9701:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var s=a(7876),r=a(6848),i=a(434),n=a(8230),l=a.n(n),o=a(9099),c=a(4232),d=a(4871),m=a(1040),u=a(6867),p=a(6101),h=a(3381),x=a(665),g=a(8011),f=a(3884),y=a(5422),j=a(4614),w=a(860),v=a(8113),b=a(1755);let N=e=>{let{message:t,onRetry:a}=e,r=(0,b.zh)({from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"},config:{tension:200,friction:20}});return(0,s.jsxs)(b.CS.div,{style:r,className:"bg-red-900/50 border border-red-400 text-starlight p-4 rounded-lg flex flex-col items-center",role:"alert","aria-label":"Error message",children:[(0,s.jsx)("p",{children:t}),a&&(0,s.jsx)("button",{className:"mt-2 bg-yellow-400 text-void px-3 py-1 rounded-lg hover:bg-yellow-300 transition font-medium",onClick:a,"aria-label":"Retry API request",children:"Retry"})]})};var _=a(9286),S=a(6377);let C={Fire:["Aries","Leo","Sagittarius"],Earth:["Taurus","Virgo","Capricorn"],Air:["Gemini","Libra","Aquarius"],Water:["Cancer","Scorpio","Pisces"]},k={Fire:{fadeIn:{duration:800,config:{tension:200,friction:20}},scale:{duration:1200,config:{tension:150,friction:25}},rotate:{duration:1500,config:{tension:120,friction:15}},glow:{intensity:20,pulsateDuration:2e3}},Earth:{fadeIn:{duration:1200,config:{tension:120,friction:25}},scale:{duration:1400,config:{tension:100,friction:20}},rotate:{duration:1800,config:{tension:80,friction:18}},glow:{intensity:15,pulsateDuration:3e3}},Air:{fadeIn:{duration:1e3,config:{tension:180,friction:22}},scale:{duration:1300,config:{tension:140,friction:18}},rotate:{duration:1600,config:{tension:110,friction:16}},glow:{intensity:18,pulsateDuration:2500}},Water:{fadeIn:{duration:1400,config:{tension:100,friction:28}},scale:{duration:1600,config:{tension:90,friction:22}},rotate:{duration:2e3,config:{tension:70,friction:20}},glow:{intensity:25,pulsateDuration:4e3}}},z=(0,c.forwardRef)((e,t)=>{let{userId:a,zodiacSign:r,onSigilGenerated:i,tarotCard:n}=e,l=(0,c.useRef)(null),[o,d]=(0,c.useState)(null),[u,p]=(0,c.useState)(!1),[h,x]=(0,c.useState)(null),{hourPlanet:g,getCurrentPlanetaryHour:f}=(()=>{let[e,t]=(0,c.useState)("Moon"),[a,s]=(0,c.useState)("Sun"),[r,i]=(0,c.useState)("balanced"),[n,l]=(0,c.useState)(!1),[o,d]=(0,c.useState)(null);return{hourPlanet:e,dayPlanet:a,resonance:r,loading:n,error:o,getCurrentPlanetaryHour:(0,c.useCallback)(async()=>{l(!0),d(null);try{let e=(await m.A.post("/api/v1/planetary/hour",{user_id:1,longitude:-74.006,latitude:40.7128})).data;s(e.day_planet),t(e.hour_planet),i(e.resonance)}catch(e){console.error("Failed to get planetary hour:",e),d("Failed to get current planetary hour")}finally{l(!1)}},[])}})(),y=(0,b.zh)({opacity:u?1:.8,scale:u?1.05:1,config:{duration:1e3}});(0,c.useEffect)(()=>{f()},[f]);let j=(0,c.useMemo)(()=>{let e=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase();for(let[t,a]of Object.entries(C))if(a.some(t=>t.toLowerCase()===e.toLowerCase()))return t;return"Fire"},[r]),w=(0,c.useMemo)(()=>k[j]||k.Fire,[j]),v=(0,b.pn)(o,{from:{opacity:0,scale:.8,rotate:-10},enter:[{opacity:.4,scale:.9,rotate:-5,config:w.fadeIn.config},{opacity:.7,scale:.95,rotate:0,config:w.scale.config},{opacity:1,scale:1,rotate:2,config:w.rotate.config}],leave:{opacity:0,scale:.9,rotate:10},config:{duration:1e3}}),[N,_]=(0,c.useState)(w.glow.intensity);(0,c.useEffect)(()=>{let e,t,a=s=>{t||(t=s);let r=.5+.5*Math.sin((s-t)%w.glow.pulsateDuration/w.glow.pulsateDuration*Math.PI*2);_(w.glow.intensity*r),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>{e&&cancelAnimationFrame(e)}},[w.glow.intensity,w.glow.pulsateDuration]);let z=async()=>{if(null==a||""===a)return void x("User ID required for sigil generation");p(!0),x(null);try{let e=(await m.A.post("/api/v1/sigil/generate",{user_id:"string"==typeof a?parseInt(a,10):a,zodiac_sign:r,planetary_data:{hour_planet:g},tarot_card:n})).data.sigil;d(e),i&&i(e)}catch(e){console.error("Sigil generation error:",e),x("Failed to generate sigil")}finally{p(!1)}};return(0,s.jsxs)(b.CS.div,{style:y,className:"sigil-generator p-6 bg-gradient-to-br from-purple-50 to-indigo-100 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Cosmic Sigil Generator"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Generate personalized sigils based on your zodiac sign and current planetary hour"})]}),h&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:h}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 mb-6",children:[(0,s.jsx)("button",{onClick:z,disabled:u,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-purple-300","aria-label":u?"Generating sigil...":"Generate new sigil",children:u?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate Sigil"}),o&&(0,s.jsx)("button",{onClick:()=>{if(l.current)try{"vibrate"in navigator&&navigator.vibrate(100);let e=l.current.toDataURL({pixelRatio:2,mimeType:"image/png"}),t=document.createElement("a");t.href=e,t.download="sigil-".concat(r,"-").concat(g,".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(e){console.error("Download error:",e),x("Failed to download sigil")}},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold rounded-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-green-300","aria-label":"Download sigil as PNG image",children:"Download PNG"})]}),(0,s.jsx)("div",{className:"flex justify-center",children:u?(0,s.jsx)("div",{className:"animate-pulse",children:(0,s.jsx)("div",{className:"w-64 h-80 bg-gray-300 rounded-lg"})}):o?v((e,t)=>t?(0,s.jsxs)(b.CS.div,{className:"sigil-canvas-container",style:{opacity:e.opacity,transform:e.scale.to(t=>"scale(".concat(t,") rotate(").concat(e.rotate,"deg)"))},children:[(0,s.jsx)(S.BI,{width:300,height:400,ref:l,"aria-label":"Sigil for ".concat(r," with ").concat(o.element," element"),children:(0,s.jsxs)(S.Wd,{children:[(0,s.jsx)(S.rw,{x:0,y:0,width:300,height:400,fillLinearGradientStartPoint:{x:150,y:0},fillLinearGradientEndPoint:{x:150,y:400},fillLinearGradientColorStops:[0,o.color+"20",.3,o.color+"40",.7,o.color+"60",1,o.color+"80"]}),o.strokes.map((e,t)=>{let a=[];return e.forEach(e=>{let t=o.points[e];a.push(t.x,t.y)}),(0,s.jsx)(S.N1,{points:a,stroke:o.color,strokeWidth:0===t?3:2,lineCap:"round",lineJoin:"round",shadowColor:o.color,shadowBlur:2*N,shadowOffset:{x:0,y:0}},t)}),(0,s.jsx)(S.jl,{x:150,y:200,radius:5,fill:o.color,opacity:.8,shadowColor:o.color,shadowBlur:N,shadowOffset:{x:0,y:0}}),(0,s.jsx)(S.EY,{x:140,y:170,text:o.element.charAt(0),fontSize:20,fontFamily:"serif",fill:o.color,align:"center",shadowColor:o.color,shadowBlur:.5*N,shadowOffset:{x:0,y:0}})]})}),(0,s.jsxs)("div",{className:"sigil-info mt-4 text-center",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Element: ",(0,s.jsx)("span",{className:"font-semibold text-gray-800",children:o.element})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Planetary Hour: ",(0,s.jsx)("span",{className:"font-semibold text-gray-800",children:o.hour_planet})]}),o.curve_factor>1&&(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Harmony Level: ",(0,s.jsxs)("span",{className:"font-semibold text-green-600",children:[(o.curve_factor-1)*100+100,"%"]})]})]})]}):null):null}),!o&&!u&&(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsx)("p",{className:"text-gray-500 italic",children:'Click "Generate Sigil" to create your personalized celestial glyph'})})]})});z.displayName="SigilGenerator";let A="https://star-backend.azurewebsites.net",D=e=>{let{userId:t,zodiacSign:a="Libra",tarotCard:r="The Lovers",planetaryHour:i="Venus",className:n=""}=e,[l,o]=(0,c.useState)(null),[d,p]=(0,c.useState)(""),[h,x]=(0,c.useState)(!1),[g,y]=(0,c.useState)(null),[j,b]=(0,c.useState)(!1),[S,C]=(0,c.useState)(!1),[k,D]=(0,c.useState)(!1),[M,F]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{x(!0),y(null);let{data:e}=await m.A.post("".concat(A,"/api/v1/prompt/generate"),{user_id:"string"==typeof t?parseInt(t,10):t,zodiac_sign:a,tarot_card:r,planetary_data:{hour_planet:i},birthdate:"1990-05-15",full_name:"Jane Doe"});o({id:Date.now(),prompt:e.prompt,archetype:e.archetype,life_path:e.life_path,destiny:e.destiny,zodiac_sign:a,tarot_card:r,planetary_hour:i,created_at:new Date().toISOString(),response_count:0}),C(Math.random()>.7)}catch(t){var e,s;console.error("Prompt fetch failed:",t),y((m.A.isAxiosError(t)?null==(s=t.response)||null==(e=s.data)?void 0:e.error:String(t))||"Failed to load cosmic prompt")}finally{x(!1)}})()},[t,a,r,i]);let E=async()=>{if(d.trim()&&l)try{x(!0),y(null),await m.A.post("".concat(A,"/api/v1/prompt/respond"),{user_id:"string"==typeof t?parseInt(t,10):t,prompt_id:l.id,response:d.trim()}),b(!0),p(""),alert("Response shared to the cosmic community! \uD83C\uDF1F")}catch(t){var e,a;console.error("Response submission failed:",t),y((m.A.isAxiosError(t)?null==(a=t.response)||null==(e=a.data)?void 0:e.error:String(t))||"Failed to share response")}finally{x(!1)}},L=async()=>{if(l)try{let{data:e}=await m.A.get("".concat(A,"/api/v1/prompt/").concat(l.id,"/responses"));F(e.responses||[])}catch(e){console.error("Failed to load responses:",e)}};return h&&!l?(0,s.jsx)("div",{className:"flex justify-center items-center py-8 ".concat(n),children:(0,s.jsx)(_.A,{})}):g&&!l?(0,s.jsx)("div",{className:n,children:(0,s.jsx)(N,{message:g,onRetry:()=>window.location.reload()})}):(0,s.jsxs)("div",{className:"archetype-journey bg-gradient-to-br from-purple-900/40 to-indigo-900/40 border border-purple-500/30 rounded-lg p-6 text-white ".concat(n),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsxs)("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:[(null==l?void 0:l.archetype)||"Mystic"," Archetype Journey"]})]}),l&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[(0,s.jsx)("span",{className:"capitalize",children:a}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:[i," Hour"]})]})]}),l?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-gray-800/60 border border-purple-500/20 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-yellow-400 mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-lg italic text-gray-200 leading-relaxed mb-2",children:[S&&(0,s.jsx)("span",{className:"text-pink-500 font-bold",children:"[Venus Hour Challenge] "}),l.prompt]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[(0,s.jsx)("span",{className:"capitalize bg-purple-700/40 px-2 py-1 rounded",children:l.archetype}),void 0!==l.response_count&&(0,s.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,s.jsx)(w.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[l.response_count," responses"]})]})]})]})]})}),(0,s.jsxs)("div",{className:"bg-gray-900/40 border border-indigo-500/30 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-indigo-300 mb-3",children:"Your Cosmic Sigil"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(z,{userId:t,zodiacSign:a,tarotCard:r})})]}),j?(0,s.jsxs)("div",{className:"bg-green-900/40 border border-green-500/30 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-green-300",children:[(0,s.jsx)(u.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Response Shared!"})]}),(0,s.jsx)("p",{className:"text-green-200 text-sm mt-1",children:"Your wisdom has been sent to the cosmic community. \uD83C\uDF1F"})]}):(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{htmlFor:"archetype-response",className:"block text-sm font-medium text-gray-200",children:"Share your cosmic wisdom:"}),(0,s.jsx)("textarea",{id:"archetype-response",className:"w-full p-3 bg-gray-800/60 border border-purple-500/30 rounded-lg text-white placeholder-gray-400 resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"What does this prompt reveal about your cosmic journey?...",value:d,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())},rows:4,maxLength:500}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:[d.length,"/500 characters"]}),(0,s.jsxs)("button",{onClick:E,disabled:!d.trim()||h,className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:h?"Sharing...":"Share Response"})]})]})]}),l.response_count&&l.response_count>0&&(0,s.jsxs)("div",{className:"border-t border-purple-500/30 pt-4",children:[(0,s.jsxs)("button",{onClick:()=>{D(!k),k||0!==M.length||L()},className:"flex items-center space-x-2 text-purple-300 hover:text-purple-200 transition-colors",children:[(0,s.jsx)(w.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[k?"Hide":"View"," Community Wisdom",l.response_count>0&&" (".concat(l.response_count," responses)")]})]}),k&&M.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-3 max-h-60 overflow-y-auto",children:M.map(e=>{var t;return(0,s.jsxs)("div",{className:"bg-gray-800/40 border border-gray-600/30 rounded p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-purple-300",children:e.author}),(0,s.jsx)("span",{className:"text-sm text-gray-400 capitalize",children:e.zodiac_sign}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm italic",children:'"'.concat(e.response,'"')})]},null!=(t=e.id)?t:e.created_at)})})]}),g&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(N,{message:g})})]}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(f.A,{className:"w-12 h-12 text-purple-400 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Loading your cosmic prompt..."})]}),(0,s.jsx)("div",{className:"border-t border-purple-500/30 mt-6 pt-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[(0,s.jsx)("span",{children:"Current Energy:"}),(0,s.jsxs)("span",{className:"capitalize bg-indigo-700/40 px-2 py-1 rounded",children:[i," Hour"]})]})})]})},M="https://star-backend.azurewebsites.net",F={Aries:{comment:"Blare",like:"Ram",follow:"Dash",share:"Charge"},Taurus:{comment:"Moo",like:"Stamp",follow:"Bond",share:"Ground"},Gemini:{comment:"Chirp",like:"Clap",follow:"Sync",share:"Twin"},Cancer:{comment:"Whisper",like:"Pinch",follow:"Embrace",share:"Shelter"},Leo:{comment:"Roar",like:"Paw",follow:"Stride",share:"Radiate"},Virgo:{comment:"Hum",like:"Point",follow:"Guide",share:"Organize"},Libra:{comment:"Chime",like:"Sway",follow:"Blend",share:"Balance"},Scorpio:{comment:"Hiss",like:"Flick",follow:"Dive",share:"Intensify"},Sagittarius:{comment:"Yelp",like:"Kick",follow:"Wander",share:"Explore"},Capricorn:{comment:"Bleat",like:"Nudge",follow:"Climb",share:"Build"},Aquarius:{comment:"Buzz",like:"Tap",follow:"Flow",share:"Innovate"},Pisces:{comment:"Splash",like:"Flutter",follow:"Drift",share:"Dream"}},E={Sun:"text-yellow-500",Moon:"text-blue-300",Mercury:"text-gray-400",Venus:"text-pink-500",Mars:"text-red-500",Jupiter:"text-purple-600",Saturn:"text-gray-600"},L=e=>{let{userId:t,className:a=""}=e,[r,i]=(0,c.useState)([]),[n,l]=(0,c.useState)(1),[o,d]=(0,c.useState)(!0),[w,v]=(0,c.useState)(!1),[b,S]=(0,c.useState)(null),[C,k]=(0,c.useState)(null),A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";"vibrate"in navigator&&navigator.vibrate("heavy"===e?100:"medium"===e?50:25)},L=(0,c.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{v(!0),S(null);let s=await (0,j.d$)(e,t);a?i(s.items):i(e=>[...e,...s.items]),d(s.has_more),k(s.planetary_context)}catch(e){var s,r;console.error("Feed fetch error:",e),S((m.A.isAxiosError(e)?null==(r=e.response)||null==(s=r.data)?void 0:s.error:String(e))||"Failed to load cosmic feed")}finally{v(!1)}},[t]),P=async(e,a,s)=>{try{if(A("light"),"like"===e){let e=await m.A.post("".concat(M,"/api/v1/posts/").concat(a,"/like"),{user_id:t});i(t=>t.map(t=>t.id===a?{...t,engagement:{...t.engagement,likes:"Post liked successfully"===e.data.message?t.engagement.likes+1:Math.max(0,t.engagement.likes-1)}}:t))}else"comment"===e&&s&&(await m.A.post("".concat(M,"/api/v1/posts/").concat(a,"/comment"),{user_id:t,comment:s}),i(e=>e.map(e=>e.id===a?{...e,engagement:{...e.engagement,comments:e.engagement.comments+1}}:e)))}catch(t){var r,n;console.error("".concat(e," error:"),t),S((m.A.isAxiosError(t)?null==(n=t.response)||null==(r=n.data)?void 0:r.error:String(t))||"Failed to ".concat(e," post"))}};return((0,c.useEffect)(()=>{L(1,!0)},[t,L]),w&&0===r.length)?(0,s.jsx)("div",{className:"flex justify-center py-8 ".concat(a),children:(0,s.jsx)(_.A,{})}):b&&0===r.length?(0,s.jsx)("div",{className:a,children:(0,s.jsx)(N,{message:b,onRetry:()=>L(1,!0)})}):(0,s.jsxs)("div",{className:"cosmic-feed ".concat(a),children:[C&&(0,s.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-purple-900/50 to-indigo-900/50 border border-purple-500/30 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)(f.A,{className:"w-5 h-5 text-purple-400"}),(0,s.jsx)("span",{className:"text-purple-300 font-medium",children:"Current Cosmic Influence"})]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:C.dominant_energy}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Favorable actions: "}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:C.favorable_actions.slice(0,3).map(e=>(0,s.jsx)("span",{className:"text-xs bg-purple-700/40 text-purple-200 px-2 py-1 rounded",children:e},e))})]})]}),(0,s.jsx)(y.A,{dataLength:r.length,next:()=>{let e=n+1;l(e),L(e)},hasMore:o,loader:(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)(_.A,{})}),endMessage:(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(f.A,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-gray-400",children:"You've reached the cosmic void \uD83C\uDF0C"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"More content awaits in the next planetary hour"})]}),className:"space-y-4",children:r.map(e=>(e=>{let t=F[e.metadata.zodiac_sign]||F.Aries,a=E[e.metadata.planetary_hour]||"text-gray-500";return(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 mb-4 shadow-sm hover:shadow-md transition-all duration-300 ease-in-out opacity-0 animate-fadeInUp",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-sm font-bold",children:e.author.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.author}),(0,s.jsxs)("span",{className:"ml-2 text-xs ".concat(a),children:[e.metadata.zodiac_sign," • ",e.metadata.planetary_hour]})]})]}),e.metadata.is_featured&&(0,s.jsx)(u.A,{className:"w-4 h-4 text-yellow-400 fill-current"})]}),(0,s.jsxs)("div",{className:"mb-4",children:["user_post"===e.type&&(0,s.jsx)("p",{className:"text-gray-300 whitespace-pre-wrap",children:"string"==typeof e.content?e.content:JSON.stringify(e.content)}),"sigil"===e.type&&(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,s.jsx)(z,{userId:e.user_id,zodiacSign:e.metadata.zodiac_sign,tarotCard:"object"==typeof e.content&&e.content&&"tarot"in e.content?e.content.tarot:void 0})}),"tarot"===e.type&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-2",children:"\uD83C\uDCCF"}),(0,s.jsx)("p",{className:"text-white font-medium",children:"object"==typeof e.content&&e.content&&"tarot_card"in e.content?String(e.content.tarot_card):"Mystic Card"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"object"==typeof e.content&&e.content&&"description"in e.content?String(e.content.description):"A cosmic revelation awaits..."})]}),"video"===e.type&&(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,s.jsx)("video",{src:"object"==typeof e.content&&e.content&&"url"in e.content?String(e.content.url):"",className:"w-full h-48 object-cover",controls:!0,muted:!0,children:"Your browser does not support the video tag."})}),"prompt"===e.type&&(0,s.jsx)(D,{userId:e.user_id,zodiacSign:e.metadata.zodiac_sign,tarotCard:"object"==typeof e.content&&e.content&&"tarot"in e.content?String(e.content.tarot):void 0,planetaryHour:e.metadata.planetary_hour})]}),C&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 mb-3 p-2 bg-gray-800/50 rounded",children:["\uD83C\uDF0C ",C.dominant_energy," • ",C.current_hour]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("button",{onClick:()=>P("like",e.id),className:"flex items-center space-x-1 px-3 py-1 rounded-full transition-colors ".concat(e.engagement.likes>0?"text-red-400 bg-red-900/20":"text-gray-400 hover:text-red-400"),children:[(0,s.jsx)(p.A,{className:"w-4 h-4 ".concat(e.engagement.likes>0?"fill-current":"")}),(0,s.jsx)("span",{className:"text-sm",children:e.engagement.likes}),(0,s.jsx)("span",{className:"text-xs",children:t.like})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-1 px-3 py-1 rounded-full text-gray-400 hover:text-blue-400 transition-colors",onClick:()=>{var t,a;let s=null==(t=document.getElementById("comments-".concat(e.id)))?void 0:t.classList.contains("hidden");null==(a=document.getElementById("comments-".concat(e.id)))||a.classList.toggle("hidden",!s)},children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.engagement.comments}),(0,s.jsx)("span",{className:"text-xs",children:t.comment})]}),(0,s.jsxs)("button",{onClick:()=>P("share",e.id),className:"flex items-center space-x-1 px-3 py-1 rounded-full text-gray-400 hover:text-green-400 transition-colors",children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-xs",children:t.share})]})]}),(0,s.jsx)("button",{onClick:()=>P("save",e.id),className:"p-2 text-gray-400 hover:text-yellow-400 transition-colors","aria-label":"Save post",children:(0,s.jsx)(g.A,{className:"w-4 h-4"})})]}),(0,s.jsx)("div",{id:"comments-".concat(e.id),className:"hidden mt-3 pt-3 border-t border-gray-700",children:(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Comments feature coming soon to this planetary hour \uD83C\uDF1F"})})]},e.id)})(e))}),b&&r.length>0&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(N,{message:"Failed to load more content",onRetry:()=>L(n,!1)})})]})};var P=a(5784),G=a(3336),I=a(8249),H=a(2257),R=a(4510);let B=e=>{let{delay:t=0}=e;return(0,s.jsx)(r.P.div,{className:"absolute w-1 h-1 bg-white rounded-full",initial:{x:-10,y:-10,opacity:0},animate:{x:[0,100],y:[0,100],opacity:[0,1,0]},transition:{duration:2,delay:t,repeat:1/0,repeatDelay:10*Math.random()+5},style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")}})},W=()=>(0,s.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,s.jsxs)("svg",{className:"absolute inset-0 w-full h-full opacity-20",viewBox:"0 0 400 300",children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"constellation",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#8b5cf6"}),(0,s.jsx)("stop",{offset:"50%",stopColor:"#06b6d4"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),(0,s.jsx)("path",{d:"M50,50 L80,45 L110,60 L140,55 L170,70 L200,65 L230,80",stroke:"url(#constellation)",strokeWidth:"1",fill:"none",opacity:"0.6"}),(0,s.jsx)("path",{d:"M250,120 L280,125 L310,120",stroke:"url(#constellation)",strokeWidth:"1",fill:"none",opacity:"0.6"}),(0,s.jsx)("path",{d:"M100,200 L130,180 L160,190 L190,170",stroke:"url(#constellation)",strokeWidth:"1",fill:"none",opacity:"0.4"})]}),Array.from({length:3}).map((e,t)=>(0,s.jsx)(B,{delay:3*t},Math.random().toString(36).slice(2,11)))]});function T(e){let{className:t=""}=e,[a,n]=(0,c.useState)([]),[l,o]=(0,c.useState)(0),[d,m]=(0,c.useState)(!1),[u,p]=(0,c.useState)(!1),h=async()=>{try{p(!0);let e=await j.FH.get("/api/v1/notifications?limit=20");n(e.data.notifications),o(e.data.notifications.filter(e=>!e.is_read).length)}catch(e){console.error("Failed to fetch notifications:",e)}finally{p(!1)}},x=async e=>{try{await j.FH.put("/api/v1/notifications/".concat(e,"/read")),n(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t)),o(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark notification as read:",e)}},g=async()=>{try{await j.FH.put("/api/v1/notifications/read-all"),n(e=>e.map(e=>({...e,is_read:!0}))),o(0)}catch(e){console.error("Failed to mark all notifications as read:",e)}};return(0,c.useEffect)(()=>{h();let e=R.ND.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},e=>{let t=e.new;n(e=>[t,...e]),o(e=>e+1)}).subscribe();return()=>{R.ND.removeChannel(e)}},[]),(0,s.jsxs)("div",{className:"relative ".concat(t),children:[(0,s.jsxs)(r.P.button,{onClick:()=>m(!d),className:"relative p-2 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(i.A,{className:"w-5 h-5"}),l>0&&(0,s.jsx)(r.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:l>9?"9+":l})]}),(0,s.jsx)(P.N,{children:d&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-gray-900/95 backdrop-blur-lg rounded-lg shadow-2xl border border-purple-500/20 z-50",children:[(0,s.jsx)(W,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-purple-500/20",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Cosmic Signals"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[l>0&&(0,s.jsxs)(r.P.button,{onClick:g,className:"text-sm text-purple-400 hover:text-purple-300 flex items-center gap-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(G.A,{className:"w-4 h-4"}),"Mark all read"]}),(0,s.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",title:"Close notifications",children:(0,s.jsx)(I.A,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[u&&(0,s.jsxs)("div",{className:"p-4 text-center text-gray-400",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-500 mx-auto mb-2"}),"Loading signals..."]}),!u&&0===a.length&&(0,s.jsxs)("div",{className:"p-8 text-center text-gray-400",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF0C"}),(0,s.jsx)("p",{children:"No cosmic signals yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Your notifications will appear here"})]}),!u&&a.length>0&&a.map(e=>(0,s.jsx)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 border-b border-gray-700/50 hover:bg-gray-800/50 transition-colors ".concat(e.is_read?"":"bg-purple-900/20"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"text-2xl flex-shrink-0",children:((e,t)=>{let a=null==t?void 0:t.cosmic_effect;switch(e){case"like":return"fiery_burst"===a?"�":"golden_shine"===a?"✨":"�\uD83D\uDCAB";case"comment":return"wind_whisper"===a?"\uD83C\uDF2C️":"dreamy_wave"===a?"\uD83C\uDF0A":"\uD83D\uDCAC";case"follow":return"electric_spark"===a?"⚡":"mystical_shadow"===a?"\uD83C\uDF11":"⭐";case"cosmic_signal":return"cosmic_twinkle"===a?"�":"�\uD83C\uDF0C";case"star_points":return"✨";case"level_up":return"\uD83D\uDE80";case"group_chat":var s=t;switch(null==s?void 0:s.cosmic_effect){case"fiery_burst":return"\uD83D\uDD25\uD83D\uDCAC";case"earth_glow":return"\uD83C\uDF0D\uD83D\uDCAC";case"wind_whisper":return"\uD83C\uDF2A️\uD83D\uDCAC";case"water_ripple":case"dreamy_wave":return"\uD83C\uDF0A\uD83D\uDCAC";case"golden_shine":return"\uD83C\uDF1F\uD83D\uDCAC";case"crystal_clarity":return"\uD83D\uDC8E\uD83D\uDCAC";case"balance_harmony":return"⚖️\uD83D\uDCAC";case"mystical_shadow":return"\uD83C\uDF11\uD83D\uDCAC";case"arrow_light":return"\uD83C\uDFF9\uD83D\uDCAC";case"mountain_steady":return"\uD83C\uDFD4️\uD83D\uDCAC";case"electric_spark":return"⚡\uD83D\uDCAC";default:return"\uD83D\uDCAC"}default:return"\uD83D\uDD14"}})(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-medium text-white text-sm",children:e.title}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:(e=>{let t=new Date,a=new Date(e),s=Math.floor((t.getTime()-a.getTime())/6e4);return s<1?"Just now":s<60?"".concat(s,"m ago"):s<1440?"".concat(Math.floor(s/60),"h ago"):"".concat(Math.floor(s/1440),"d ago")})(e.created_at)})]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:e.message}),!e.is_read&&(0,s.jsxs)(r.P.button,{onClick:()=>x(e.id),className:"mt-2 text-xs text-purple-400 hover:text-purple-300 flex items-center gap-1",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(H.A,{className:"w-3 h-3"}),"Mark as read"]})]})]})},e.id))]})]})})]})}var O=a(8753);function U(){let e=(0,o.useRouter)(),[t,a]=(0,c.useState)(null),[n,m]=(0,c.useState)(!1),[u,p]=(0,c.useState)(!1),[h,x]=(0,c.useState)("all"),[g,f]=(0,c.useState)("all");return(0,c.useEffect)(()=>{!async function(){let{data:{user:e}}=await R.ND.auth.getUser();if(e){let{data:t}=await R.ND.from("profiles").select("id, username, zodiac_sign").eq("user_id",e.id).single();a(t),(null==t?void 0:t.zodiac_sign)&&x(t.zodiac_sign.toLowerCase())}}()},[]),(0,s.jsx)(O.A,{children:(0,s.jsxs)("div",{className:"min-h-screen p-4 text-white",children:[(0,s.jsxs)("nav",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(d.A,{variant:"primary",size:"md",zodiacSign:null==t?void 0:t.zodiac_sign,children:"Home"})}),(0,s.jsx)(l(),{href:"/matchmaking",children:(0,s.jsx)(d.A,{variant:"secondary",size:"md",zodiacSign:null==t?void 0:t.zodiac_sign,children:"Matchmaking"})}),(0,s.jsx)(d.A,{variant:"secondary",size:"md",zodiacSign:null==t?void 0:t.zodiac_sign,onClick:()=>m(!n),children:"Menu"}),(0,s.jsx)(l(),{href:"/groups",children:(0,s.jsx)(d.A,{variant:"gold",size:"md",zodiacSign:null==t?void 0:t.zodiac_sign,children:"Groups"})}),t&&(0,s.jsx)(l(),{href:"/profile/".concat(t.id),children:(0,s.jsx)(d.A,{variant:"blue",size:"md",zodiacSign:null==t?void 0:t.zodiac_sign,children:"Profile"})})]}),t&&(0,s.jsx)(d.A,{variant:"secondary",size:"sm",zodiacSign:null==t?void 0:t.zodiac_sign,onClick:()=>p(!u),children:(0,s.jsx)(i.A,{className:"w-5 h-5"})})]}),n&&(0,s.jsxs)(r.P.div,{className:"menu bg-navy-800 p-4 rounded-lg absolute top-16 left-4 w-48 border border-cosmic-gold/30",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,s.jsx)(l(),{href:"/universe",children:(0,s.jsx)("p",{className:"cosmic-menu-item text-white py-2 hover:bg-navy-700 rounded",children:"Star Universe \uD83C\uDF0C"})}),(0,s.jsx)(l(),{href:"/settings",children:(0,s.jsx)("p",{className:"cosmic-menu-item text-white py-2 hover:bg-navy-700 rounded",children:"Settings ⚙️"})}),(0,s.jsx)("button",{className:"cosmic-menu-item text-white py-2 hover:bg-navy-700 rounded w-full text-left",onClick:()=>R.ND.auth.signOut().then(()=>e.push("/login")),children:"Sign Out \uD83D\uDEAA"})]}),t&&u&&(0,s.jsx)(T,{}),(0,s.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,s.jsx)(l(),{href:"/universe?filter=venus",children:(0,s.jsx)(d.A,{variant:"planet",size:"lg",zodiacSign:null==t?void 0:t.zodiac_sign,planet:"venus",children:"Venus"})}),(0,s.jsx)(l(),{href:"/universe?filter=mars",children:(0,s.jsx)(d.A,{variant:"planet",size:"lg",zodiacSign:null==t?void 0:t.zodiac_sign,planet:"mars",children:"Mars"})}),(0,s.jsx)(l(),{href:"/universe?filter=jupiter",children:(0,s.jsx)(d.A,{variant:"planet",size:"lg",zodiacSign:null==t?void 0:t.zodiac_sign,planet:"jupiter",children:"Jupiter"})})]}),(0,s.jsxs)("div",{className:"main-content max-w-4xl mx-auto",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold mb-4 text-center",children:["Welcome to the Star Universe, ",(null==t?void 0:t.username)||"Cosmic Traveler","!"]}),(0,s.jsx)("p",{className:"mb-6 text-center text-cosmic-light",children:"Navigate the cosmos, connect with your zodiac tribe, and shine bright!"}),(0,s.jsxs)("div",{className:"mb-6 flex flex-wrap gap-2 justify-center",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-cosmic-gold mr-2",children:"Zodiac Filter:"}),["all","aries","taurus","gemini","cancer","leo","virgo","libra","scorpio","sagittarius","capricorn","aquarius","pisces"].map(e=>(0,s.jsx)(d.A,{variant:h===e?"primary":"secondary",size:"sm",zodiacSign:null==t?void 0:t.zodiac_sign,onClick:()=>x(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-cosmic-gold mr-2",children:"Element Filter:"}),["all","fire","earth","air","water"].map(e=>(0,s.jsx)(d.A,{variant:g===e?"primary":"secondary",size:"sm",zodiacSign:null==t?void 0:t.zodiac_sign,onClick:()=>f(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,s.jsxs)("div",{className:"feed bg-navy-800 p-6 rounded-lg shadow-cosmic-lg",children:[(0,s.jsx)("h2",{className:"text-2xl mb-4 text-cosmic-gold",children:"Star Universe Feed"}),t&&(0,s.jsx)(L,{userId:t.id,className:"cosmic-feed-container"})]})]})]})})}}},e=>{e.O(0,[7391,2909,1040,6958,5748,6848,5693,8230,1755,6377,6014,4424,9556,636,6593,8792],()=>e(e.s=6760)),_N_E=e.O()}]);