(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{2814:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return t(5606)}])},5251:(e,n,t)=>{"use strict";t.d(n,{ND:()=>r}),t(3081);var r=(0,t(6958).UU)("https://dummy.supabase.co","dummy_key")},5606:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var r=t(8296),i=t(7876);function a(){return(0,i.jsx)(r.A,{children:(0,i.jsx)("div",{className:"p-8",children:"Welcome to the 3D Cosmic Interface (placeholder)"})})}},8296:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var r=t(8133),i=t(236),a=t(3857),o=t(3081),s=t.n(o),c=t(4232),d=t(986),u=t(4796),l=t(5693),f=t(1824),p=t(5251),w=t(7876);function m(e){var n,t=e.children,o=(0,c.useRef)(null),m=(0,c.useRef)([]),h=(0,c.useCallback)((n=(0,a.A)(s().mark(function e(n){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.G)(n);case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[]);return(0,c.useEffect)(function(){if(o.current){var e,n=o.current,t=new u.Scene,c=new u.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),d=new u.WebGLRenderer({alpha:!0});d.setSize(window.innerWidth,window.innerHeight),n.appendChild(d.domElement);for(var f=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],w=f.map(function(e){var n=new u.SphereGeometry(e.size,32,32),r=new u.MeshBasicMaterial({color:e.color}),i=new u.Mesh(n,r);return i.position.set(e.position[0],e.position[1],e.position[2]),t.add(i),i}),h=new u.BufferGeometry,v=new Float32Array(15e3),b=0;b<15e3;b++)v[b]=(Math.random()-.5)*2e3;h.setAttribute("position",new u.BufferAttribute(v,3));var x=new u.PointsMaterial({color:0xffffff,size:2}),y=new u.Points(h,x);t.add(y);var _={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]},g=_.default,k=[],E="default",z=!1,N=f.map(function(){return new u.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0})});!function(){L.apply(this,arguments)}();var A=new l.N(c,d.domElement);A.enableDamping=!0,A.dampingFactor=.05,c.position.z=20;var M=function(){requestAnimationFrame(M),w.forEach(function(e,n){var t=f[n].orbitSpeed;e.position.x=f[n].position[0]*Math.cos(Date.now()*t*.001),e.position.z=f[n].position[0]*Math.sin(Date.now()*t*.001)}),k.forEach(function(e){e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),m.current.forEach(function(e,n){e.material.opacity=z?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(w[n].position)}),A.update(),d.render(t,c)};M();var S=function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",S);var D=new u.Raycaster,j=new u.Vector2,C=(e=(0,a.A)(s().mark(function e(n){var t,r,i,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.x=n.clientX/window.innerWidth*2-1,j.y=-(2*(n.clientY/window.innerHeight))+1,D.setFromCamera(j,c),!((t=D.intersectObjects(w)).length>0)){e.next=14;break}return r=t[0].object,i=f[w.indexOf(r)].name,e.next=9,p.ND.auth.getUser();case 9:if(!(a=e.sent.data.user)){e.next=14;break}return e.next=14,p.ND.from("analytics_events").insert({user_id:a.id,event_type:"constellation_reveal",event_data:{planet:i,zodiac:E},created_at:new Date().toISOString()});case 14:case"end":return e.stop()}},e)})),function(n){return e.apply(this,arguments)});return window.addEventListener("click",C),function(){window.removeEventListener("resize",S),window.removeEventListener("click",C),null==n||n.removeChild(d.domElement)}}function L(){return(L=(0,a.A)(s().mark(function e(){var n,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.forEach(function(e){return t.remove(e)}),k.length=0,m.current.forEach(function(e){return t.remove(e)}),m.current=[],e.next=6,p.ND.auth.getUser();case 6:if(!(n=e.sent.data.user)){e.next=15;break}return e.next=11,p.ND.from("profiles").select("zodiac_sign").eq("user_id",n.id).single();case 11:z="Scorpio"===(E=(null==(a=e.sent.data)?void 0:a.zodiac_sign)||"default");case 15:(_[E]||_.default).forEach(function(e){var n=e.start,a=e.end,o=new u.LineBasicMaterial({color:"Scorpio"===E?0xf7dc6f:9133302,linewidth:2}),s=new u.BufferGeometry().setFromPoints([(0,r.A)(u.Vector3,(0,i.A)(n)),(0,r.A)(u.Vector3,(0,i.A)(a))]),c=new u.Line(s,o);t.add(c),k.push(c)}),z&&(m.current=f.map(function(e,n){var r=new u.SphereGeometry(1.3*e.size,32,32),i=new u.Mesh(r,N[n]);return t.add(i),i}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}},[]),(0,w.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,w.jsx)(d.A,{id:"tsparticles",init:h,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,w.jsx)("div",{className:"comet"}),(0,w.jsx)("div",{ref:o,className:"fixed inset-0 -z-10"}),(0,w.jsx)("div",{className:"relative z-10",children:t})]})}}},e=>{e.O(0,[7391,2909,6958,43,8166,636,6593,8792],()=>e(e.s=2814)),_N_E=e.O()}]);