(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3287,7148],{619:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(4232),i=n(8296),a=n(8982),s=n(7876);function o(){var e,t,n,o,c,u,l=(0,r.useState)(null),p=l[0],d=l[1],f=(0,r.useState)(null),h=f[0],m=f[1];return(0,r.useEffect)(function(){(0,a.JB)().then(d).catch(function(){return m("Failed to fetch zodiac numbers")})},[]),(0,s.jsx)(i.A,{children:(0,s.jsxs)("div",{className:"relative z-10 mx-auto max-w-2xl p-6 text-center",children:[(0,s.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:"Your Cosmic Numbers"}),h&&(0,s.jsx)("p",{className:"text-red-300",children:h}),!p&&!h&&(0,s.jsx)("p",{children:"Loading..."}),p&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("section",{children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold",children:["Western: ",p.western.sign," (",p.western.number,")"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(e=p.western.info)?void 0:e.element," — Traits: ",null==(t=p.western.info)?void 0:t.traits]})]}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold",children:["Chinese: ",p.chinese.sign," (",p.chinese.number,")"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(n=p.chinese.info)?void 0:n.element," — Traits: ",null==(o=p.chinese.info)?void 0:o.traits]})]}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold",children:["Vedic: ",p.vedic.sign," (",p.vedic.number,")"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-200",children:["Element: ",null==(c=p.vedic.info)?void 0:c.element," — Traits: ",null==(u=p.vedic.info)?void 0:u.traits]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Generated at: ",new Date(p.generated_at).toLocaleString()]})]})]})})}},5361:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(3857),i=n(3081),a=n.n(i),s={auth:{getUser:function(){return(0,r.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:{user:null}});case 1:case"end":return e.stop()}},e)}))()},signOut:function(){return(0,r.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},e)}))()},onAuthStateChange:function(e){return{data:{subscription:null},unsubscribe:function(){}}}},from:function(e){return{select:function(e){return{eq:function(e,t){return{single:function(){return Promise.resolve({data:null,error:null})}}}}},insert:function(e){return Promise.resolve({data:null,error:null})},update:function(e){return{eq:function(e,t){return Promise.resolve({data:null,error:null})}}},delete:function(){return{eq:function(e,t){return Promise.resolve({data:null,error:null})}}}}},channel:function(e){return{on:function(e,t){return this},subscribe:function(e){return e&&e(),this},unsubscribe:function(){return Promise.resolve()}}},removeChannel:function(e){return Promise.resolve()}}},5364:(e,t,n)=>{"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(5861)},5861:e=>{!function(){var t={229:function(e){var t,n,r,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}var c=[],u=!1,l=-1;function p(){u&&r&&(u=!1,r.length?c=r.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=o(p);u=!0;for(var t=c.length;t;){for(r=c,c=[];++l<t;)r&&r[l].run();l=-1,t=c.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}},s=!0;try{t[e](a,a.exports,r),s=!1}finally{s&&delete n[e]}return a.exports}r.ab="//",e.exports=r(229)}()},8296:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(8133),i=n(236),a=n(3857),s=n(3081),o=n.n(s),c=n(4232),u=n(986),l=n(4796),p=n(5693),d=n(1824),f=n(5361),h=n(7876);function m(e){var t,n=e.children,s=(0,c.useRef)(null),m=(0,c.useRef)([]),v=(0,c.useCallback)((t=(0,a.A)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.G)(t);case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[]);return(0,c.useEffect)(function(){if(s.current){var e,t=s.current,n=new l.Scene,c=new l.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),u=new l.WebGLRenderer({alpha:!0});u.setSize(window.innerWidth,window.innerHeight),t.appendChild(u.domElement);for(var d=[{name:"venus",size:.9,color:0xf472b6,position:[6,0,0],orbitSpeed:.02},{name:"mars",size:.5,color:0xdc2626,position:[10,0,0],orbitSpeed:.015},{name:"jupiter",size:1.8,color:0xfb923c,position:[13,0,0],orbitSpeed:.01}],h=d.map(function(e){var t=new l.SphereGeometry(e.size,32,32),r=new l.MeshBasicMaterial({color:e.color}),i=new l.Mesh(t,r);return i.position.set(e.position[0],e.position[1],e.position[2]),n.add(i),i}),v=new l.BufferGeometry,w=new Float32Array(15e3),x=0;x<15e3;x++)w[x]=(Math.random()-.5)*2e3;v.setAttribute("position",new l.BufferAttribute(w,3));var y=new l.PointsMaterial({color:0xffffff,size:2}),b=new l.Points(v,y);n.add(b);var g={Libra:[{start:[6,2,0],end:[7,3,1]},{start:[7,3,1],end:[8,2,0]},{start:[8,2,0],end:[7,1,-1]}],Aries:[{start:[5,1,0],end:[6,2,1]},{start:[6,2,1],end:[7,1,0]}],Scorpio:[{start:[5,2,1],end:[6,3,0]},{start:[6,3,0],end:[7,2,-1]},{start:[7,2,-1],end:[6.5,1,-.5]},{start:[6.5,1,-.5],end:[6,0,0]}],default:[{start:[6,2,0],end:[8,3,1]},{start:[8,3,1],end:[7,2,-1]}]},j=g.default,_=[],k="default",N=!1,A=d.map(function(){return new l.MeshBasicMaterial({color:0xf7dc6f,transparent:!0,opacity:0})});!function(){C.apply(this,arguments)}();var O=new p.N(c,u.domElement);O.enableDamping=!0,O.dampingFactor=.05,c.position.z=20;var E=function(){requestAnimationFrame(E),h.forEach(function(e,t){var n=d[t].orbitSpeed;e.position.x=d[t].position[0]*Math.cos(Date.now()*n*.001),e.position.z=d[t].position[0]*Math.sin(Date.now()*n*.001)}),_.forEach(function(e){e.material.opacity=.5+.5*Math.sin(.001*Date.now())}),m.current.forEach(function(e,t){e.material.opacity=N?.3+.2*Math.sin(.002*Date.now()):0,e.position.copy(h[t].position)}),O.update(),u.render(n,c)};E();var T=function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",T);var S=new l.Raycaster,P=new l.Vector2,z=(e=(0,a.A)(o().mark(function e(t){var n,r,i,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P.x=t.clientX/window.innerWidth*2-1,P.y=-(2*(t.clientY/window.innerHeight))+1,S.setFromCamera(P,c),!((n=S.intersectObjects(h)).length>0)){e.next=14;break}return r=n[0].object,i=d[h.indexOf(r)].name,e.next=9,f.N.auth.getUser();case 9:if(!(a=e.sent.data.user)){e.next=14;break}return e.next=14,f.N.from("analytics_events").insert({user_id:a.id,event_type:"constellation_reveal",event_data:{planet:i,zodiac:k},created_at:new Date().toISOString()});case 14:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return window.addEventListener("click",z),function(){window.removeEventListener("resize",T),window.removeEventListener("click",z),null==t||t.removeChild(u.domElement)}}function C(){return(C=(0,a.A)(o().mark(function e(){var t,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.forEach(function(e){return n.remove(e)}),_.length=0,m.current.forEach(function(e){return n.remove(e)}),m.current=[],e.next=6,f.N.auth.getUser();case 6:if(!(t=e.sent.data.user)){e.next=15;break}return e.next=11,f.N.from("profiles").select("zodiac_sign").eq("user_id",t.id).single();case 11:N="Scorpio"===(k=(null==(a=e.sent.data)?void 0:a.zodiac_sign)||"default");case 15:(g[k]||g.default).forEach(function(e){var t=e.start,a=e.end,s=new l.LineBasicMaterial({color:"Scorpio"===k?0xf7dc6f:9133302,linewidth:2}),o=new l.BufferGeometry().setFromPoints([(0,r.A)(l.Vector3,(0,i.A)(t)),(0,r.A)(l.Vector3,(0,i.A)(a))]),c=new l.Line(o,s);n.add(c),_.push(c)}),N&&(m.current=d.map(function(e,t){var r=new l.SphereGeometry(1.3*e.size,32,32),i=new l.Mesh(r,A[t]);return n.add(i),i}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}},[]),(0,h.jsxs)("section",{className:"relative min-h-screen starry-background mythic-cosmos-background","aria-label":"Cosmic Background with Constellations",children:[(0,h.jsx)(u.A,{id:"tsparticles",init:v,options:{background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:["#ffffff","#facc15","#3b82f6"]},shape:{type:"circle"},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1}},size:{value:3,random:!0},move:{enable:!0,speed:.5,direction:"none",random:!0,outModes:{default:"out"}}},interactivity:{events:{onHover:{enable:!0,mode:"repulse"},onClick:{enable:!0,mode:"push"}},modes:{repulse:{distance:100},push:{quantity:4}}},detectRetina:!0}}),(0,h.jsx)("div",{className:"comet"}),(0,h.jsx)("div",{ref:s,className:"fixed inset-0 -z-10"}),(0,h.jsx)("div",{className:"relative z-10",children:n})]})}},8982:(e,t,n)=>{"use strict";n.d(t,{FH:()=>d,aS:()=>g,d$:()=>y,JB:()=>m,U4:()=>N,pG:()=>O,iD:()=>f,jc:()=>_,tt:()=>w});var r=n(3857),i=n(3081),a=n.n(i),s=n(1040),o=n(2969);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){var t=u({},e);if("string"==typeof t.user_id){var n=parseInt(t.user_id,10);Number.isNaN(n)||(t.user_id=n)}return t}var p="http://localhost:5000".replace(/\/$/,""),d=s.A.create({baseURL:p});function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.A)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/v1/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=(0,r.A)(a().mark(function e(){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/api/v1/zodiac-numbers");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return x.apply(this,arguments)}function x(){return(x=(0,r.A)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/v1/upload",t,{headers:{"Content-Type":"multipart/form-data"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return b.apply(this,arguments)}function b(){return(b=(0,r.A)(a().mark(function e(){var t,n,r,i,s=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1?s[1]:void 0,r={page:t},void 0!==n&&(r.user_id=n),e.next=6,d.get("/api/v1/feed",{params:r});case 6:return i=e.sent,e.abrupt("return",i.data);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,r.A)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.post("/api/v1/archetype-oracle/calculate",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t,n){return k.apply(this,arguments)}function k(){return(k=(0,r.A)(a().mark(function e(t,n,r){var i,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof fetch){e.next=5;break}return e.next=3,fetch("/api/v1/tarot/share-spread",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spread:t,spread_type:n,user_id:r})});case 3:return i=e.sent,e.abrupt("return",i.json());case 5:return e.next=7,d.post("/api/v1/tarot/share-spread",{spread:t,spread_type:n,user_id:r});case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,t){return A.apply(this,arguments)}function A(){return(A=(0,r.A)(a().mark(function e(t,n){var r,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof fetch){e.next=5;break}return e.next=3,fetch("/api/v1/tarot/spotify-playlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({energy_flows:t,spread_type:n})});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:return e.next=7,d.post("/api/v1/tarot/spotify-playlist",{energy_flows:t,spread_type:n});case 7:return i=e.sent,e.abrupt("return",i.data);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=(0,r.A)(a().mark(function e(t){var n,r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof fetch){e.next=5;break}return e.next=3,fetch("/api/v1/tarot/location-insights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip_address:t})});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:return e.next=7,d.post("/api/v1/tarot/location-insights",{ip_address:t});case 7:return r=e.sent,e.abrupt("return",r.data);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}d.interceptors.request.use(function(e){var t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),d.interceptors.response.use(function(e){var t,n;return null!=(t=e.config.url)&&t.includes("/api/v1/feed")&&(e.data=u(u({},n=e.data),{},{items:n.items.map(l)})),e})},9276:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/zodiac",function(){return n(619)}])}},e=>{e.O(0,[7391,1040,424,8166,636,6593,8792],()=>e(e.s=9276)),_N_E=e.O()}]);