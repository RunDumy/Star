"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2123],{2123:(e,t,r)=>{r.r(t),r.d(t,{LiveStreamCreation:()=>o});var a=r(7876),s=r(4510),l=r(4232);function o(e){let{onStreamCreated:t}=e,[r,o]=(0,l.useState)(""),[i,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),u=async e=>{if(e.preventDefault(),!r.trim())return;d(!0);let{data:{session:a}}=await s.ND.auth.getSession();if(!a)return void d(!1);try{let e=await fetch("".concat("https://star-backend.azurewebsites.net","/api/v1/live-stream"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access_token)},body:JSON.stringify({title:r,description:i})});if(e.ok){let r=await e.json();o(""),n(""),t(r.stream)}}catch(e){console.error("Error creating live stream:",e)}finally{d(!1)}};return(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"stream-title",className:"block text-sm font-medium mb-1",children:"Stream Title"}),(0,a.jsx)("input",{id:"stream-title",type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"Enter stream title...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"stream-description",className:"block text-sm font-medium mb-1",children:"Description"}),(0,a.jsx)("textarea",{id:"stream-description",value:i,onChange:e=>n(e.target.value),placeholder:"Describe your cosmic stream...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",rows:3})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 rounded-lg font-semibold transition-colors",children:c?"Creating Stream...":"\uD83C\uDF1F Start Live Stream"})]})}}}]);