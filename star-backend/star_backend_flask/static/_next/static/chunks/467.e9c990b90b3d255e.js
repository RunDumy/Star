"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[467],{467:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(5794),s=r(3857),a=r(3081),i=r.n(a),l=r(7534),c=r(6438),o=r(4232),d=r(7876);let u=function(e){var t,r,a=e.currentUser,u=e.onActionTriggered,p=(0,l.T)(),x=p.triggerZodiacAction,m=p.recentActions,b=(0,o.useState)(!1),h=b[0],v=b[1],f=(0,o.useState)(!1),g=f[0],j=f[1],N=(0,o.useState)(!1),w=N[0],k=N[1];(0,o.useEffect)(function(){k(!0)},[]);var y=(t=(0,s.A)(i().mark(function e(t){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,j(!0),e.next=6,x(t);case 6:r=e.sent,null==u||u(r),setTimeout(function(){return j(!1)},1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Failed to trigger action:",e.t0),j(!1);case 15:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return t.apply(this,arguments)}),S=(r=(null==a?void 0:a.chinese_zodiac)||"Rat",c.DZ[r]||c.DZ.Rat);return w?(0,d.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[(0,d.jsx)("div",{className:"mb-4 max-w-xs",children:m.slice(0,3).map(function(e){return(0,d.jsxs)("div",{className:"bg-black/80 backdrop-blur-sm border border-purple-500/30 rounded-lg p-2 mb-2 text-xs animate-fade-in",children:[(0,d.jsx)("span",{className:"text-purple-300 font-medium",children:e.username}),(0,d.jsx)("span",{className:"text-white/70",children:" performed "}),(0,d.jsx)("span",{className:"text-yellow-300",children:e.action})]},e.id)})}),(0,d.jsxs)("div",{className:"bg-black/90 backdrop-blur-sm border border-purple-500/50 rounded-2xl p-4 shadow-2xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("h3",{className:"text-white font-semibold text-sm",children:"Zodiac Actions"}),(0,d.jsx)("button",{onClick:function(){return v(!h)},className:"text-purple-300 hover:text-purple-100 transition-colors",children:h?"âˆ’":"+"})]}),(0,d.jsx)("div",{className:"grid gap-2 transition-all duration-300 ".concat(h?"grid-cols-2":"grid-cols-4"),children:Object.entries(S).map(function(e){var t=(0,n.A)(e,2),r=t[0],s=t[1];return(0,d.jsxs)("button",{onClick:function(){return y(r)},disabled:g,className:"\n                relative group px-3 py-2 rounded-lg text-xs font-medium\n                transition-all duration-200 transform hover:scale-105\n                disabled:opacity-50 disabled:cursor-not-allowed\n                ".concat(g?"animate-pulse":"","\n              "),style:{backgroundColor:(0,c.mw)(null==a?void 0:a.zodiacSign,s),boxShadow:"0 0 10px ".concat((0,c.mw)(null==a?void 0:a.zodiacSign,s),"40")},children:[(0,d.jsx)("span",{className:"text-white drop-shadow-lg",children:s}),(0,d.jsx)("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-20 transition-opacity",style:{backgroundColor:(0,c.mw)(null==a?void 0:a.zodiacSign,s)}}),g&&(0,d.jsx)("div",{className:"absolute inset-0 rounded-lg border-2 border-white/30 animate-ping"})]},r)})}),(0,d.jsx)("div",{className:"mt-3 pt-3 border-t border-purple-500/30",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("span",{className:"text-purple-300 text-xs",children:[(null==a?void 0:a.chinese_zodiac)||"Rat"," Spirit"]})})})]})]}):null}}}]);